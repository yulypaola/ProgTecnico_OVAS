*{box-sizing:border-box}
:root{
  --bg1:#0d1117; --bg2:#111827; --paper:#ffffff; --ink:#0b0f16;
  --shadow: rgba(0,0,0,.35); --shadow-strong: rgba(0,0,0,.55);
  --accent:#94a3b8;
}
html,body{height:100%}
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;
  margin:0; color:#e5e7eb; background: radial-gradient(1200px 700px at 50% 40%, #1f293780 0%, #0b0f16 55%, #05070b 100%), linear-gradient(180deg, var(--bg1), var(--bg2));
  display:flex; flex-direction:column;
}
.book{
  flex:1; display:flex; justify-content:center; align-items:center;
  gap:16px; padding:24px 12px;
  perspective: 1800px;
}
.stage{
  display:flex; gap:16px; align-items:center; justify-content:center;
  filter: drop-shadow(0 30px 50px rgba(0,0,0,.45));
}
.page{
  background: var(--paper);
  color: var(--ink);
  position:relative;
  box-shadow: 0 14px 28px var(--shadow), 0 8px 10px rgba(0,0,0,.12);
  transform-style: preserve-3d;
  backface-visibility: hidden;
  overflow:hidden;
  border-radius: 4px;
}
.page img{display:block; width:100%; height:auto;}
.page::before{
  content:"";
  position:absolute; inset:0;
  pointer-events:none;
  background:
    radial-gradient(120% 90% at 50% 10%, rgba(255,255,255,.35), rgba(255,255,255,0) 50%) ,
    linear-gradient( to right, rgba(0,0,0,.08), rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,.08) );
  mix-blend-mode: multiply;
  opacity:.55;
}
.book::after{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background: radial-gradient(1200px 600px at 50% 40%, rgba(255,255,255,.06), rgba(0,0,0,0) 65%) ;
}
@media (min-width: 768px){
  .page{ width: 40vw; max-width: 800px; }
}
@media (max-width: 767px){
  .stage{gap:0}
  .page{ width: 94vw; max-width: 94vw; }
}
.controls{
  position:sticky; bottom:0; left:0; right:0;
  background: linear-gradient(180deg, rgba(15,18,25,.6), rgba(10,12,18,.85));
  border-top: 1px solid rgba(148,163,184,.2);
  padding:10px 12px;
}
.controls .guide{font-size:14px; color:#cbd5e1; margin-bottom:6px; text-align:center}
.controls .buttons{display:flex; gap:8px; justify-content:center; align-items:center; flex-wrap:wrap}
.controls button{
  border:1px solid rgba(148,163,184,.35); color:#e5e7eb; background: #0b1220;
  padding:8px 12px; border-radius:10px; cursor:pointer;
}
.controls button:hover{background:#0f172a}
.controls button:disabled{opacity:.5; cursor:not-allowed}
.controls input[type=number]{
  width:96px; padding:8px 10px; border:1px solid rgba(148,163,184,.35); border-radius:10px;
  background:#0b1220; color:#e5e7eb;
}
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;
}
/* Animaci√≥n realista */
.turning-next{ animation: leafTurnNext 800ms cubic-bezier(.3,.1,.1,1) forwards; }
.turning-prev{ animation: leafTurnPrev 800ms cubic-bezier(.3,.1,.1,1) forwards; }
.page::after{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient( to left, rgba(0,0,0,.25), rgba(0,0,0,0) 35% );
  opacity:0; transition: opacity .2s ease;
}
.page.turning-next::after{ opacity: .65; }
.page.turning-prev::after{ opacity: .65; background: linear-gradient( to right, rgba(0,0,0,.25), rgba(0,0,0,0) 35% ); }
@keyframes leafTurnNext{
  0%   { transform: rotateY(0deg);   filter: brightness(1); }
  40%  { transform: rotateY(-70deg); filter: brightness(.98); }
  70%  { transform: rotateY(-150deg); filter: brightness(.95); }
  100% { transform: rotateY(-179.9deg); filter: brightness(1); }
}
@keyframes leafTurnPrev{
  0%   { transform: rotateY(0deg);    filter: brightness(1); }
  40%  { transform: rotateY(70deg);   filter: brightness(.98); }
  70%  { transform: rotateY(150deg);  filter: brightness(.95); }
  100% { transform: rotateY(179.9deg); filter: brightness(1); }
}
.page.right{ transform-origin: left center; }
.page.left { transform-origin: right center; }
